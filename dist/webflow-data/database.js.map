{
  "version": 3,
  "sources": ["../../src/webflow-data/database.ts"],
  "sourcesContent": ["\r\n\r\n\r\n\r\nexport class Database {\r\n    data = new Map();\r\n\r\n    normalizeKey = function (key) {\r\n        return key.toLowerCase();\r\n    }\r\n\r\n    // Add specified JSON document under key.\r\n    add = function (key, json) {\r\n\r\n        key = this.normalizeKey(key);\r\n\r\n        // Convert string to JSON\r\n        if (typeof json == 'string') {\r\n            json = JSON.parse(json);\r\n        }\r\n\r\n        this.data.set(key, json);\r\n    }\r\n\r\n    getData = function (key) {\r\n\r\n        key = this.normalizeKey(key);\r\n\r\n        return this.data.get(key);\r\n    }\r\n    getDataSource = this.getData; // obsolete\r\n\r\n    getCountOfRecords = function (dataSourceName) {\r\n        return this.getDataSource(dataSourceName).length;\r\n    }\r\n\r\n    getDictionary = function (dataSourceName, keyField, valueField) {\r\n        var dict = new Map();\r\n\r\n        var ds = this.getDataSource(dataSourceName);\r\n\r\n//        console.log(ds);\r\n\r\n        for (var i = 0; i < ds.length; i++)\r\n        {\r\n//            console.log(`${0}: ${ds.length} ${ds[i].keyField} / ${ds[i].valueField}`);\r\n            dict.set(\r\n                ds[i][keyField],\r\n                ds[i][valueField]\r\n            );\r\n        }\r\n\r\n        console.log(dict);\r\n        return dict;\r\n    }\r\n\r\n    getDictionaryFromRow = function (dataSourceName, row) {\r\n        var dict = new Map();\r\n\r\n        var ds = this.getDataSource(dataSourceName);\r\n\r\n        for (const v in ds[row]) {\r\n            dict.set(\r\n                v,\r\n                ds[row][v]\r\n            );\r\n        }\r\n\r\n        return dict;\r\n    }\r\n\r\n} \r\n\r\n"],
  "mappings": ";;AAIO,MAAM,WAAN,MAAe;AAAA,IAAf;AACH,kBAAO,oBAAI,IAAI;AAEf,0BAAe,SAAU,KAAK;AAC1B,eAAO,IAAI,YAAY;AAAA,MAC3B;AAGA,iBAAM,SAAU,KAAK,MAAM;AAEvB,cAAM,KAAK,aAAa,GAAG;AAG3B,YAAI,OAAO,QAAQ,UAAU;AACzB,iBAAO,KAAK,MAAM,IAAI;AAAA,QAC1B;AAEA,aAAK,KAAK,IAAI,KAAK,IAAI;AAAA,MAC3B;AAEA,qBAAU,SAAU,KAAK;AAErB,cAAM,KAAK,aAAa,GAAG;AAE3B,eAAO,KAAK,KAAK,IAAI,GAAG;AAAA,MAC5B;AACA,2BAAgB,KAAK;AAErB,+BAAoB,SAAU,gBAAgB;AAC1C,eAAO,KAAK,cAAc,cAAc,EAAE;AAAA,MAC9C;AAEA,2BAAgB,SAAU,gBAAgB,UAAU,YAAY;AAC5D,YAAI,OAAO,oBAAI,IAAI;AAEnB,YAAI,KAAK,KAAK,cAAc,cAAc;AAI1C,iBAAS,IAAI,GAAG,IAAI,GAAG,QAAQ,KAC/B;AAEI,eAAK;AAAA,YACD,GAAG,GAAG;AAAA,YACN,GAAG,GAAG;AAAA,UACV;AAAA,QACJ;AAEA,gBAAQ,IAAI,IAAI;AAChB,eAAO;AAAA,MACX;AAEA,kCAAuB,SAAU,gBAAgB,KAAK;AAClD,YAAI,OAAO,oBAAI,IAAI;AAEnB,YAAI,KAAK,KAAK,cAAc,cAAc;AAE1C,mBAAW,KAAK,GAAG,MAAM;AACrB,eAAK;AAAA,YACD;AAAA,YACA,GAAG,KAAK;AAAA,UACZ;AAAA,QACJ;AAEA,eAAO;AAAA,MACX;AAAA;AAAA,EAEJ;",
  "names": []
}
